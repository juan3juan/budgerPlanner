{"version":3,"sources":["img/logo.png","component/budgetPlanner.js","component/budgetResult.js","component/budget.js","component/Nav.js","component/Home.js","component/Auth/Auth.js","App.js","index.js"],"names":["module","exports","BudgetCalculator","props","values","format","formatter","className","Typography","Slider","defaultValue","percent","getAriaValueText","percentageChange","aria-labelledby","min","max","step","marks","value","label","valueLabelDisplay","FormControl","fullWidth","InputLabel","htmlFor","Input","id","name","salary","onChange","handleChange","startAdornment","InputAdornment","position","FormHelperText","error","errormessage","TextField","expense","variant","center","saving","type","onClick","handleSubmit","BudgetResult","result","username","handleback","Budget","useState","setValues","donestatus","setdoneStatus","isDoneCal","auth","isAuthenticated","getProfile","profile","err","setProfile","Intl","NumberFormat","style","currency","event","target","isNaN","Nav","login","logout","authenticated","src","logo","alt","to","Home","useEffect","test","location","hash","handleAuthentication","require","config","Auth","history","auth0","authorize","parseHash","authResult","accessToken","idToken","setSession","push","alert","console","log","expiresAt","JSON","stringify","expiresIn","Date","getTime","localStorage","setItem","removeItem","clientID","process","returnTo","expireAt","parse","getItem","getAccessToken","Error","cb","userProfile","client","userInfo","this","WebAuth","domain","redirectUri","responseType","scope","App","setProfileFunc","given_name","nickname","path","exact","render","ReactDOM","basename","component","document","getElementById"],"mappings":"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","file":"static/js/main.4c3e4800.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.fbfa9d74.png\";","import React from \"react\";\r\nimport \"../css/planner.css\";\r\nimport {\r\n  Slider,\r\n  FormControl,\r\n  InputLabel,\r\n  Input,\r\n  InputAdornment,\r\n  TextField,\r\n  FormHelperText,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nconst BudgetCalculator = props => {\r\n  let values = props.values;\r\n  let format = props.formatter.format;\r\n\r\n  //Slide Marks\r\n  const marks = [\r\n    { value: 1, label: \"1%\" },\r\n    { value: 15, label: \"15%\" },\r\n    { value: 30, label: \"30%\" }\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"text-center header largebottom\">\r\n          <Typography>Expense Percentage</Typography>\r\n        </div>\r\n        <Slider\r\n          defaultValue={values.percent}\r\n          getAriaValueText={props.percentageChange}\r\n          aria-labelledby=\"discrete-slider-always\"\r\n          min={1}\r\n          max={30}\r\n          step={1}\r\n          marks={marks}\r\n          valueLabelDisplay=\"on\"\r\n        />\r\n        <FormControl fullWidth>\r\n          <InputLabel htmlFor=\"standard-adornment-amount\">Salary</InputLabel>\r\n          <Input\r\n            id=\"standard-adornment-amount\"\r\n            name=\"salary\"\r\n            value={values.salary}\r\n            onChange={props.handleChange}\r\n            startAdornment={<InputAdornment position=\"start\">$</InputAdornment>}\r\n          />\r\n          <FormHelperText error id=\"component-helper-text\">\r\n            {values.errormessage}\r\n          </FormHelperText>\r\n        </FormControl>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Expense\"\r\n              value={values.expense ? format(values.expense) : \"\"}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              center=\"true\"\r\n              label=\"Saving\"\r\n              value={values.saving ? format(values.saving) : \"\"}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"text-right padtop\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn buttoncolor\"\r\n            onClick={props.handleSubmit}\r\n          >\r\n            Done Calculation\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default BudgetCalculator;\r\n","import React from \"react\";\r\nimport { FormControl, TextField, Typography } from \"@material-ui/core\";\r\nimport \"../css/planner.css\";\r\nconst BudgetResult = props => {\r\n  let values = props.result;\r\n  let format = props.formatter.format;\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"text-center header\">\r\n          <Typography center>{props.username}! Here is your Result</Typography>\r\n        </div>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Your Salary\"\r\n              value={format(values.salary)}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Your Expense %\"\r\n              value={values.percent + \"%\"}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Your Expense\"\r\n              value={format(values.expense)}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"padtop\">\r\n          <FormControl fullWidth>\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              label=\"Your Saving\"\r\n              value={format(values.saving)}\r\n              variant=\"outlined\"\r\n            />\r\n          </FormControl>\r\n        </div>\r\n        <div className=\"text-right padtop\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn buttoncolor\"\r\n            onClick={props.handleback}\r\n          >\r\n            Back to Calculator\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default BudgetResult;\r\n","import React, { useState } from \"react\";\r\nimport BudgetPlanner from \"./budgetPlanner\";\r\nimport BudgetResult from \"./budgetResult\";\r\n\r\nconst Budget = props => {\r\n  //#region Use State\r\n  const [values, setValues] = useState({\r\n    salary: \"\",\r\n    expense: \"\",\r\n    saving: \"\",\r\n    percent: 15,\r\n    errormessage: \"\"\r\n  });\r\n\r\n  const [donestatus, setdoneStatus] = useState(false);\r\n  //#endregion\r\n\r\n  //#region Event Handlers\r\n  const handleChange = event => {\r\n    let value = event.target.value;\r\n    if (!isNaN(value)) {\r\n      let salary = value;\r\n      let expense = (salary * values.percent) / 100;\r\n      let saving = salary - expense;\r\n      setValues({ salary: salary, expense: expense, saving: saving });\r\n    } else {\r\n      setValues({\r\n        ...values,\r\n        salary: value,\r\n        errormessage: \"Invalid Input! Numbers Only\"\r\n      });\r\n    }\r\n  };\r\n  const percentageChange = value => {\r\n    if (value !== values.percent) {\r\n      if (values.salary !== \"\") {\r\n        let expense = (values.salary * value) / 100;\r\n        let saving = values.salary - expense;\r\n        setValues({\r\n          ...values,\r\n          percent: value,\r\n          expense: expense,\r\n          saving: saving\r\n        });\r\n      } else {\r\n        setValues({ ...values, percent: value });\r\n      }\r\n    }\r\n  };\r\n  const handleSubmit = isDoneCal => {\r\n    // jump to result\r\n    if (isDoneCal === true) {\r\n      if (values.salary === \"\") {\r\n        setValues({\r\n          ...values,\r\n          errormessage: \"Please input your Salary first\"\r\n        });\r\n      } else {\r\n        setdoneStatus(isDoneCal);\r\n      }\r\n    }\r\n    // back to calculate\r\n    else {\r\n      setdoneStatus(isDoneCal);\r\n    }\r\n  };\r\n  //#endregion\r\n\r\n  //#region reobtain Username if somehow budget page lost username\r\n  const { isAuthenticated, getProfile } = props.auth;\r\n  const authenticated = isAuthenticated();\r\n  //after authentication, get the username to App\r\n  if (authenticated) {\r\n    if (props.username === \"\") {\r\n      getProfile((profile, err) => {\r\n        props.setProfile(profile);\r\n      });\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  // format salary expense and saving to USD\r\n  const formatter = new Intl.NumberFormat(\"en-US\", {\r\n    style: \"currency\",\r\n    currency: \"USD\"\r\n  });\r\n\r\n  return donestatus ? (\r\n    <BudgetResult\r\n      result={values}\r\n      formatter={formatter}\r\n      username={props.username}\r\n      handleback={() => handleSubmit(false)}\r\n    />\r\n  ) : (\r\n    <BudgetPlanner\r\n      values={values}\r\n      formatter={formatter}\r\n      percentageChange={percentageChange}\r\n      handleSubmit={() => handleSubmit(true)}\r\n      handleChange={handleChange}\r\n    />\r\n  );\r\n};\r\nexport default Budget;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/nav.css\";\r\nimport logo from \"../img/logo.png\";\r\n\r\nconst Nav = props => {\r\n  const { isAuthenticated, login, logout } = props.auth;\r\n  const authenticated = isAuthenticated();\r\n  return (\r\n    <nav>\r\n      <ul>\r\n        <li className=\"liLogo\">\r\n          <img src={logo} alt=\"LOGO\" className=\"navLogo\" />\r\n        </li>\r\n        <li>\r\n          <Link to=\"/\">Home</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/budget\">Budget</Link>\r\n        </li>\r\n        <li className=\"liright\">\r\n          {authenticated ? (\r\n            <button className=\"btn login\" onClick={logout}>\r\n              Log out >\r\n            </button>\r\n          ) : (\r\n            <button className=\"btn login\" onClick={login}>\r\n              Log in >\r\n            </button>\r\n          )}\r\n        </li>\r\n        {/* <li className=\"liright greetings\">\r\n          {authenticated ? <p>Welcome! {props.username}</p> : null}\r\n        </li> */}\r\n      </ul>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Nav;\r\n","import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../css/homepage.css\";\r\nimport logo from \"../img/logo.png\";\r\n\r\nconst Home = props => {\r\n  //#region Authentication Method\r\n  const { isAuthenticated, login, getProfile } = props.auth;\r\n  const authenticated = isAuthenticated();\r\n\r\n  useEffect(() => {\r\n    //Handle authentication if expected values are in the URL.\r\n    if (/access_token|id_token|error/.test(props.location.hash)) {\r\n      props.auth.handleAuthentication();\r\n    }\r\n  }, []);\r\n\r\n  //after authentication, get the username to App\r\n  if (authenticated) {\r\n    if (props.username === \"\") {\r\n      getProfile((profile, err) => {\r\n        props.setProfile(profile);\r\n      });\r\n    }\r\n  }\r\n  //#endregion\r\n\r\n  return (\r\n    <div className=\"homecontainer\" id=\"formContent\">\r\n      <div className=\"text-center header\">\r\n        <img src={logo} alt=\"LOGO\" className=\"logo\" />\r\n        {!authenticated ? (\r\n          <h5>Login to use the Budget Calculator</h5>\r\n        ) : (\r\n          <h5>Welcome! {props.username}</h5>\r\n        )}\r\n      </div>\r\n      {authenticated ? (\r\n        <div className=\"text-center gotobudget largebottom\">\r\n          <Link to=\"/budget\">\r\n            <button className=\"btn buttoncolor\">\r\n              Start to Calculate Budget\r\n            </button>\r\n          </Link>\r\n        </div>\r\n      ) : (\r\n        <div className=\"text-center gotobudget largebottom\">\r\n          <button className=\"btn buttoncolor loginbutton\" onClick={login}>\r\n            Login >\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","import auth0 from \"auth0-js\";\r\nrequire(\"dotenv\").config();\r\nexport default class Auth {\r\n  constructor(history) {\r\n    this.history = history;\r\n    this.userProfile = null;\r\n    this.auth0 = new auth0.WebAuth({\r\n      domain: process.env.REACT_APP_AUTH0_DOMAIN,\r\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\r\n      redirectUri: process.env.REACT_APP_AUTH0_CALLBACK_URL,\r\n      responseType: \"token id_token\",\r\n      scope: \"openid profile email\"\r\n    });\r\n  }\r\n  login = () => {\r\n    this.auth0.authorize();\r\n  };\r\n  handleAuthentication = () => {\r\n    this.auth0.parseHash((err, authResult) => {\r\n      if (authResult && authResult.accessToken && authResult.idToken) {\r\n        this.setSession(authResult);\r\n        this.history.push(\"/\");\r\n      } else if (err) {\r\n        this.history.push(\"/\");\r\n        alert(`Error: ${err.error}. Check the console for further details.`);\r\n        console.log(err);\r\n      }\r\n    });\r\n  };\r\n\r\n  setSession = authResult => {\r\n    // set the time that the access token will expire\r\n    const expiresAt = JSON.stringify(\r\n      authResult.expiresIn * 1000 + new Date().getTime()\r\n    );\r\n\r\n    localStorage.setItem(\"access_token\", authResult.accessToken);\r\n    localStorage.setItem(\"id_token\", authResult.idToken);\r\n    localStorage.setItem(\"expires_at\", expiresAt);\r\n  };\r\n  logout = () => {\r\n    localStorage.removeItem(\"access_token\");\r\n    localStorage.removeItem(\"id_token\");\r\n    localStorage.removeItem(\"expires_at\");\r\n    this.auth0.logout({\r\n      clientID: process.env.REACT_APP_AUTH0_CLIENT_ID,\r\n      returnTo: process.env.REACT_APP_AUTH0_RETURNTO_URL\r\n    });\r\n  };\r\n  isAuthenticated = () => {\r\n    const expireAt = JSON.parse(localStorage.getItem(\"expires_at\"));\r\n    return new Date().getTime() < expireAt;\r\n  };\r\n  getAccessToken = () => {\r\n    const accessToken = localStorage.getItem(\"access_token\");\r\n    if (!accessToken) {\r\n      throw new Error(\"No access token found.\");\r\n    }\r\n    return accessToken;\r\n  };\r\n  getProfile = cb => {\r\n    if (this.userProfile) return cb(this.userProfile);\r\n    this.auth0.client.userInfo(this.getAccessToken(), (err, profile) => {\r\n      if (profile) this.userProfile = profile;\r\n      cb(profile, err);\r\n    });\r\n  };\r\n}\r\n","import React, { useState } from \"react\";\nimport { Redirect, Route, BrowserRouter as Router } from \"react-router-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Budget from \"./component/budget\";\nimport Nav from \"./component/Nav\";\nimport Home from \"./component/Home\";\nimport Auth from \"./component/Auth/Auth\";\n\nfunction App(props) {\n  let auth0 = new Auth(props.history);\n  const [profile, setProfile] = useState();\n\n  // setProfile in child component\n  const setProfileFunc = value => {\n    setProfile(value);\n  };\n\n  //set username\n  let username = \"\";\n  const setUsername = () => {\n    if (profile) {\n      console.log(profile);\n      if (profile.given_name) username = profile.given_name;\n      else if (profile.nickname) username = profile.nickname;\n      else if (profile.name) username = profile.name;\n    }\n  };\n  if (username === \"\") {\n    setUsername();\n  }\n\n  return (\n    <>\n      <Nav auth={auth0} username={username} />\n      <div className=\"body\">\n        <Route\n          path=\"/\"\n          exact\n          render={props => (\n            <Home\n              auth={auth0}\n              setProfile={setProfileFunc}\n              username={username}\n              {...props}\n            />\n          )}\n        />\n        <Route\n          path=\"/budget\"\n          render={props =>\n            auth0.isAuthenticated() ? (\n              <Budget\n                auth={auth0}\n                setProfile={setProfileFunc}\n                username={username}\n                {...props}\n              />\n            ) : (\n              <Redirect to=\"/\" />\n            )\n          }\n        />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nReactDOM.render(\n  <Router basename=\"budgetPlanner\">\n    <Route component={App} />\n  </Router>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}